<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    
    <h:head>
        <title>Recepção</title>
        <meta http-equiv="X-UA-Compatible" content="IE=9" />
    </h:head>
    <h:body class="divMenu">
        <f:subview id="header">
            <ui:include src="template.xhtml"/>
            <ui:include src="templateLinks.xhtml"/>
        </f:subview>
        <f:view>
            <h:form id="form_recepcao">
                <c:set scope="request" var="object" value="${recepcaoBean.agendamento}"/>
                <center>
                    <div class="headerPanel">
                        <h:outputText value="Recepção" styleClass="fontePanel" style="width: 800px"/>
                    </div>
                   
                    <br />
                    <h:column rendered="#{recepcaoBean.renderConcluir}">
                        <div class="divMae divFundo" style="text-align: left; width: 900px;">
                                <h:panelGrid columns="6">
                                    <h:outputText value="Data: " styleClass="fontePadrao"/>
                                    <h:outputText value=" #{recepcaoBean.agendamento.data}" styleClass="fontePadraoNegritoMedio border-radius bg-white padding" />
                                    <h:outputText value="Horário: " styleClass="fontePadrao margin-left-max" />
                                    <h:outputText value="#{recepcaoBean.agendamento.horarios.hora}" styleClass="fontePadraoNegritoMedio border-radius bg-white padding"/>
                                </h:panelGrid>
                                <br />
                                <h:panelGrid columns="2" columnClasses="coluna1, coluna2" cellpadding="3">
                                    <h:column>
                                        <h4 class="border-radius bg-white padding">EMPRESA</h4>
                                    </h:column>
                                    <h:column>
                                    </h:column>                                     
                                    <h:column>
                                        <h:outputText value="RAZÃO SOCIAL: " title="Nome fantasia"/>
                                    </h:column>                                     
                                    <h:column>
                                        <h:outputText value="#{recepcaoBean.juridica.pessoa.nome}" class="negrito" style="border-bottom: 2px dotted white"/>
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="TELEFONE: " styleClass="fontePadrao" rendered="#{recepcaoBean.juridica.pessoa.telefone1 != '' or recepcaoBean.juridica.pessoa.telefone2 != ''}"/>
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="#{recepcaoBean.juridica.pessoa.telefone1} / #{recepcaoBean.juridica.pessoa.telefone2}" styleClass="fontePadraoNegrito" rendered="#{recepcaoBean.juridica.pessoa.telefone1 != '' or recepcaoBean.juridica.pessoa.telefone2 != ''}"/>
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="ENDEREÇO: " styleClass="fontePadrao"/>
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="#{recepcaoBean.strEndereco}" styleClass="fontePadraoNegrito"/>
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="ESCRITÓRIO: " styleClass="fontePadrao"/>                                        
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="#{recepcaoBean.juridica.contabilidade.pessoa.nome}" styleClass="fontePadraoNegrito"/>
                                        <h:outputText value="Telefone: " styleClass="fontePadrao margin-left-max" />
                                        <h:outputText value="#{recepcaoBean.juridica.contabilidade.pessoa.telefone1} / #{recepcaoBean.juridica.contabilidade.pessoa.telefone2}" styleClass="fontePadraoNegrito"/>
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:outputText value="Contato: " styleClass="fontePadrao"/>                                        
                                    </h:column>                                     
                                    <h:column>                                     
                                        <h:inputText value="#{recepcaoBean.agendamento.contato}" size="20" styleClass="fontePadraoNegrito" readonly="true" />
                                        <h:outputText value="E-mail: " styleClass="fontePadrao margin-left-max"/>
                                        <h:inputText value="#{recepcaoBean.agendamento.email}" size="25" styleClass="fontePadraoNegrito " readonly="true" />                                        
                                        <h:outputText value="Telefone: " styleClass="fontePadrao margin-left-max"/>
                                        <h:inputText value="#{recepcaoBean.agendamento.telefone}" size="12" maxlength="14" class="telefone" styleClass="fontePadraoNegrito" readonly="true"/>
                                    </h:column>
                                    <h:column>
                                        <h4 class="border-radius bg-white padding">FUNCIONÁRIO</h4>
                                    </h:column>
                                    <h:column>
                                    </h:column>                                     
                                    <h:column>                                        
                                        <h:outputText value="MOTIVO DEMISSÃO: " styleClass="fontePadrao"/>
                                    </h:column>
                                    <h:column>
                                        <h:selectOneMenu id="idMotivoDemissao" value="#{recepcaoBean.idMotivoDemissao}" disabled="true">
                                            <a4j:ajax event="change" render="this"/>
                                            <f:selectItems value="#{recepcaoBean.listaMotivoDemissao}"/>
                                        </h:selectOneMenu>
                                    </h:column>                                    
                                    <h:column>                                        
                                        <h:outputText value="CPF: " styleClass="fontePadrao"/>
                                    </h:column>
                                    <h:column>
                                        <h:inputText id="idCPF" value="#{recepcaoBean.fisica.pessoa.documento}" size="14" maxlength="14" class="cpf" readonly="true" />                                        
                                    </h:column>                                     
                                    
                                    <h:column> 
                                        <h:outputText value="NOME: " styleClass="fontePadraoVermelho"/>
                                    </h:column>
                                    <h:column>
                                        <h:inputText size="50" value="#{recepcaoBean.fisica.pessoa.nome}" styleClass="fontePadraoNegrito" readonly="true" />
                                        <h:outputText value="NASCIMENTO: " styleClass="fontePadrao margin-left-max"/>
                                        <h:inputText size="10" maxlength="10" value="#{recepcaoBean.fisica.nascimento}" styleClass="fontePadraoNegrito" readonly="true" />                                          
                                    </h:column>                                    
                                    <h:column>
                                            <h:outputText value="OBSERVAÇÃO: " styleClass="fontePadrao" />
                                    </h:column>
                                    <h:column>
                                        <h:inputTextarea cols="70" rows="3" value="#{recepcaoBean.agendamento.observacao}" />
                                    </h:column>
                                    <h:column rendered="#{recepcaoBean.registro.senhaHomologacao}">
                                        <h:outputText value="PREPOSTO: " styleClass="fontePadraoVermelho" />
                                    </h:column>
                                    <h:column rendered="#{recepcaoBean.registro.senhaHomologacao}">
                                        <h:inputText value="#{recepcaoBean.recepcao.preposto}" size="50" onblur="upperCase(this);" />
                                    </h:column>
                                    <h:column rendered="#{recepcaoBean.registro.senhaHomologacao}">
                                        <h:outputText value="Hora de chegada preposto: " styleClass="fontePadraoVermelho" />
                                    </h:column>
                                    <h:column rendered="#{recepcaoBean.registro.senhaHomologacao}">
                                        <h:inputText value="#{recepcaoBean.recepcao.horaInicialPreposto}" size="5" class="hora" />
                                        <h:outputText value="Hora de chegada funcionário: " styleClass="fontePadraoVermelho margin-left-max" />
                                        <h:inputText value="#{recepcaoBean.recepcao.horaInicialFuncionario}" size="5" class="hora" />
                                    </h:column>
                                </h:panelGrid>
                                <!-- <h:panelGrid columns="2">
                                    <h:outputText value="Status: " styleClass="fontePadrao"/>
                                    <h:outputText value="# {recepcaoBean.statusEmpresa}" styleClass="fontePadraoNegrito"/>
                                </h:panelGrid> -->
                                <br />
                                <h:panelGrid columns="4">
                                    <a4j:commandLink styleClass="idPesquisar iLink"  value="Atualizar" action="#{recepcaoBean.salvar}" disabled="#{controleAcessoBean.botaoSalvar}" render="i_painel_mensagem" oncomplete="#{rich:component('form_recepcao:i_painel_mensagem')}.show(); return false;"/>
                                    <a4j:commandLink styleClass="idPesquisar iLink" style="width: 120px" value="Gerar Senha" rendered="#{recepcaoBean.idStatus == 0 and recepcaoBean.registro.senhaHomologacao}" disabled="#{controleAcessoBean.botaoSalvar}" oncomplete="#{rich:component('form_recepcao:i_painel_salvar')}.show(); return false;" />
                                    <a4j:commandLink styleClass="idPesquisar iLink" value="Cancelar" rendered="#{recepcaoBean.idStatus == 0}" disabled="#{controleAcessoBean.botaoExcluir}"  oncomplete="#{rich:component('form_recepcao:i_painel_excluir')}.show(); return false;" />
                                    <h:commandLink styleClass="idExcluir iLink" value="Voltar" action="#{recepcaoBean.voltar()}"/>
                                </h:panelGrid>
                        </div>
                    </h:column>
                    <div style="overflow: hidden; height: 700px; margin: 0 auto;">
                        <h:column rendered="#{!recepcaoBean.renderConcluir}">
                            <div class="divMae divFundo margin-bottom-max" style="overflow: hidden;">
                                <h:panelGrid columns="2" columnClasses="coluna1, coluna2">
                                    <h:column>
                                        <h:outputLabel value="Data pesquisa: " styleClass="fontePadrao" />
                                    </h:column>
                                    <h:column>
                                        <h:selectOneMenu id="idDataPesquisa" value="#{recepcaoBean.dataPesquisa}" onchange="submit();">
                                            <a4j:ajax event="blur" listener="#{recepcaoBean.limparPesquisaProtocolo}" render="idNrProtocolo idDtA1 idDtA2 calendarA calendarB idDataPesquisa " />
                                            <f:selectItem itemValue="hoje" itemLabel="Hoje: " />
                                            <f:selectItem itemValue="periodo"   itemLabel="Período: "/>
                                        </h:selectOneMenu>                                      
                                        <h:outputText id="idDtA2" value="#{recepcaoBean.dataInicialString}" styleClass="fontePadraoNegrito margin-left-max" rendered="#{!recepcaoBean.ocultaDatapesquisa}"/>
                                        <rich:calendar id="calendarA"  value="#{recepcaoBean.dataInicial}" datePattern="dd/MM/yyyy" style="width:400px; margin-left: 10px;" rendered="#{recepcaoBean.ocultaDatapesquisa}" >
                                            <a4j:ajax event="change" listener="#{recepcaoBean.limparPesquisaProtocolo}" render="idNrProtocolo tbl"/>
                                        </rich:calendar>
                                        <h:outputText id="idDtA1" value=" até " rendered="#{recepcaoBean.ocultaDatapesquisa}" />
                                        <rich:calendar id="calendarB" value="#{recepcaoBean.dataFinal}" datePattern="dd/MM/yyyy" style="width:400px" rendered="#{recepcaoBean.ocultaDatapesquisa}" >
                                            <a4j:ajax event="change" listener="#{recepcaoBean.limparPesquisaProtocolo}"  render="idNrProtocolo tbl"/>
                                        </rich:calendar>
                                        <h:outputLabel value="#{recepcaoBean.msgRecepcao}" styleClass="corErro" />                                
                                    </h:column>
                                </h:panelGrid>
                                <h:panelGrid id="idDesabilitaPesquisaProtocolo" columns="10">
                                    <h:outputLabel value="Status: " styleClass="fontePadrao" style="margin-left: 20px;"/>
                                    <h:selectOneMenu id="idStatus" value="#{recepcaoBean.idStatus}" >
                                        <a4j:ajax event="change" listener="#{recepcaoBean.limparPesquisaProtocolo}" render="idNrProtocolo tbl"/>
                                        <f:selectItems value="#{recepcaoBean.listaStatus}"/>
                                    </h:selectOneMenu>
                                    <h:outputLabel for="idNrProtocolo" value=" Número do Protocolo: "  style="margin-left: 20px"  styleClass="fontePadrao" />
                                    <h:inputText id="idNrProtocolo" value="#{recepcaoBean.numeroProtocolo}" size="2" title="Digite o número do protocolo gerado no agendamento" onclick="somenteNumeros(this);" disabled="#{recepcaoBean.desabilitaPesquisaProtocolo}"/>
                                    <a4j:commandButton image="/Imagens/pesquisar.png" render="tbl" title="Pesquisa por número de protocolo" disabled="#{recepcaoBean.desabilitaPesquisaProtocolo}"/>                                    
                                    <h:outputLabel for="idTipoPesquisa" value="Pessoa: "  style="margin-left: 20px"  styleClass="fontePadrao" />
                                    <a4j:commandButton value="Pesquisar "  action="#{recepcaoBean.pesquisar()}" title="Escolha a opção do tipo de pesquisa para pessoa">
                                        <a4j:ajax event="click" render="idDesabilitaPesquisaProtocolo" /> 
                                    </a4j:commandButton>
                                    <h:outputLabel value=" por " styleClass="fontePadrao"/>
                                    <h:selectOneMenu id="idTipoPesquisa" value="#{recepcaoBean.tipoPesquisa}" onchange="submit();">
                                        <f:selectItem itemValue="juridica" itemLabel="Juridica"/>
                                        <f:selectItem itemValue="fisica"   itemLabel="Fisica"/>                                                  
                                    </h:selectOneMenu>                                
                                </h:panelGrid>

                                <h:panelGrid columns="7" id="idPesJurFis">
                                    <h:column>
                                        <h:outputLabel value="#{recepcaoBean.juridica.pessoa.nome} - CNPJ: #{recepcaoBean.juridica.pessoa.documento}" styleClass="fontePadraoNegrito" rendered="#{recepcaoBean.juridica.id != -1}"/>
                                        <br />
                                        <h:outputLabel value="#{recepcaoBean.fisica.pessoa.nome}" styleClass="fontePadraoNegrito" rendered="#{recepcaoBean.fisica.id != -1}"/>                                
                                    </h:column>
                                    <a4j:commandButton image="/Imagens/excluirp.png"  rendered="#{recepcaoBean.juridica.id != -1 or recepcaoBean.fisica.id != -1}">
                                        <a4j:ajax event="click" render="idDesabilitaPesquisaProtocolo idPesJurFis idStatus idDataPesquisa tbl" listener="#{recepcaoBean.limparPesquisa}"/>
                                    </a4j:commandButton>
                                    <h:outputLabel value=" - Pesquisa todas datas" styleClass="fontePadrao" style="margin-left: 20px;" rendered="#{recepcaoBean.juridica.id != -1 or recepcaoBean.fisica.id != -1}"/>
                                    <h:selectBooleanCheckbox id="idPesquisaTDatas" value="#{recepcaoBean.dataPesquisaTodas}" title="Pesquisar todas datas" rendered="#{recepcaoBean.juridica.id != -1 or recepcaoBean.fisica.id != -1}">
                                        <a4j:ajax event="change" render="idPesquisaTDatas idDataPesquisa idDtA2 idDtA1 tbl" />
                                    </h:selectBooleanCheckbox>
                                </h:panelGrid>
                            </div>
                            <a4j:poll id="poolMonitor" interval="5000" render="poolMonitor, tbl" />
                            <div class="clear"></div>
                            <div style="overflow:auto; height: 550px;">
                                <h:panelGrid columns="1">
                                    <rich:dataTable value="#{recepcaoBean.listaHorarios}" var="linha" style="width: 95%; "  id="tbl" iterationStatusVar="it" rowClasses="#{linha.argumento8}">
                                        <rich:column style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="#"/>
                                            </f:facet>
                                            <h:outputText value="#{it.index}"/>
                                        </rich:column> 


                                        <rich:column rendered="#{!recepcaoBean.ocultaData}">
                                            <f:facet name="header">
                                                <h:outputText value="Data"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento11}"/>
                                        </rich:column>

                                        <rich:column styleClass="coluna" >
                                            <f:facet name="header">
                                                <h:outputText value="Horarios" rendered="false"/>
                                                <h:graphicImage value="/Imagens/horario.png" alt="Horário" title="Horário" width="20" />
                                            </f:facet>
                                            <a4j:commandLink id="linkHorario" action="#{recepcaoBean.agendar}" value="#{linha.argumento0.hora}" title="Horário">
                                                <a4j:param value="#{it.index}" assignTo="#{recepcaoBean.idIndex}" />
                                            </a4j:commandLink>
                                        </rich:column>

                                        <rich:column rendered="#{!recepcaoBean.ocultaColunaEmpresa}">
                                            <f:facet name="header">
                                                <h:outputText value="CNPJ"/>
                                            </f:facet>
                                            <div style="width: 100px">
                                                <h:outputText value="#{linha.argumento1}"/>
                                            </div>
                                        </rich:column>

                                        <rich:column rendered="#{!recepcaoBean.ocultaColunaEmpresa}">
                                            <f:facet name="header">
                                                <h:outputText value="Empresa" />
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento2}"/>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Escritório"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento14}"/>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Contato"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento4}"/>
                                        </rich:column>

                                        <rich:column rendered="#{recepcaoBean.ocultaColunaPessoaFisica}">
                                            <f:facet name="header">
                                                <h:outputText value="Chegada"/>
                                            </f:facet>
                                            <div style="width: 200px">
                                                <h:outputText value="#{linha.argumento9.recepcao.horaInicialFuncionario}"/>
                                            </div>
                                        </rich:column>

                                        <rich:column rendered="#{!recepcaoBean.ocultaColunaPessoaFisica}">
                                            <f:facet name="header">
                                                <h:outputText value="Funcionário / Chegada"/>
                                            </f:facet>
                                            <div style="width: 200px">
                                                <h:outputText value="#{linha.argumento7.fisica.pessoa.nome} - #{linha.argumento9.recepcao.horaInicialFuncionario}"/>
                                            </div>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header" >
                                                <h:outputText value="Preposto / Chegada"/>
                                            </f:facet>
                                            <div style="width: 200px">
                                                <h:outputText value="#{linha.argumento9.recepcao.preposto} - #{linha.argumento9.recepcao.horaInicialPreposto}"/>
                                            </div>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Telefone"/>
                                            </f:facet>
                                            <div style="width: 80px">
                                                <h:outputText value="#{linha.argumento5}"/>
                                            </div>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Usuario"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento6}"/>
                                        </rich:column>

                                        <rich:column rendered="#{!recepcaoBean.ocultaSenha}">
                                            <f:facet name="header">
                                                <h:outputText value="Senha" />
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento10}"/>
                                        </rich:column>

                                        <rich:column rendered="#{!recepcaoBean.ocultaHomologador}">
                                            <f:facet name="header">
                                                <h:outputText value="Homologador" />
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento3}"/>
                                        </rich:column>

                                        <rich:column rendered="#{!recepcaoBean.ocultaStatus}">
                                            <f:facet name="header">
                                                <h:outputText value="Status"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento13}"/>
                                        </rich:column>

                                        <rich:column styleClass="coluna">
                                            <f:facet name="header">
                                                <h:graphicImage value="/Imagens/iconPrint.png" alt="Imprimir Protocolo" title="Imprimir Protocolo"/>
                                            </f:facet>
                                            <h:commandLink action="#{recepcaoBean.imprimirProtocolo(linha.argumento9.id)}" target="_blank" value="#{linha.argumento9.id}"  title="Imprimir Protocolo"/>
                                        </rich:column>                                    

                                    </rich:dataTable>
                                </h:panelGrid>
                            </div>
                        </h:column>                        
                    </div>
                </center>
                <!-- 
                <div id="boxes">
                    <div id="divSalvar" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Deseja gerar essa Senha?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                            </h:panelGrid>
                            <br />
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" action="# {recepcaoBean.gerarSenha()}" title="Gerar uma Senha" oncomplete="modalMensagem()" render="outConfirma"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>       
                
                <div id="boxes">
                    <div id="divExcluir" class="window" style="width: 500px; height: 250px;">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2" style="margin: 10px ">
                                <h:outputText value="Deseja cancelar essa Homologação?" styleClass="fontePadrao"/>
                                <div style="float: left">
                                    <h:outputLabel value="Digite o motivo para Exclusão: " style="font-weight: bold"/>
                                    <h:inputTextarea value="# {recepcaoBean.cancelamento.motivo}" cols="30" rows="5"> 

                                    </h:inputTextarea>
                                </div>
                            </h:panelGrid>
                            <br />
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" action="# {recepcaoBean.cancelarHorario()}" title="Cancelar essa Homologação" oncomplete="modalMensagem()" render="outConfirma"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar"/>
                            <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>  
                <div id="boxes">
                    <div id="divMensagem" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:outputText id="outConfirma" value=" # {recepcaoBean.msgConfirma}" styleClass="fontePadrao"/>
                            <br /><br />
                            <h:commandLink styleClass="idNovo iLink" style="width: 160px;" value="Voltar para Lista" title="Voltar para Lista" action="# {recepcaoBean.voltar()}"/>
                            <h:commandLink styleClass="idNovo iLink" style="width: 120px;" value="Permanecer" title="Permanecer" action="# {recepcaoBean.imprimirSenha()}"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div> -->
                
                <rich:popupPanel id="i_painel_salvar" modal="true" resizeable="true" onmaskclick="#{rich:component('i_painel_salvar')}.hide();" domElementAttachment="form" header="Deseja gerar senha?">
                    <f:facet name="controls">
                        <h:outputLink value="#" onclick="#{rich:component('i_painel_salvar')}.hide(); return false;">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </h:outputLink>
                    </f:facet>
                    <center>
                        <h:panelGrid columns="2">
                            <a4j:commandButton value="Sim" title="Gerar uma Senha" action="#{recepcaoBean.gerarSenha()}" render="i_painel_mensagem" oncomplete="#{rich:component('form_recepcao:i_painel_salvar')}.hide(); #{rich:component('form_recepcao:i_painel_mensagem')}.show(); return false;" status="i_status"/>
                            <a4j:commandButton value="Não" title="Desfazer" oncomplete="#{rich:component('form_recepcao:i_painel_salvar')}.hide(); return false;"/>
                        </h:panelGrid>
                    </center>
                </rich:popupPanel>
                
                <rich:popupPanel id="i_painel_excluir" modal="true" resizeable="true" onmaskclick="#{rich:component('i_painel_excluir')}.hide();" domElementAttachment="form" header="Deseja cancelar essa homologação?" width="500" height="300">
                    <f:facet name="controls">
                        <h:outputLink value="#" onclick="#{rich:component('i_painel_excluir')}.hide();
                                return false;">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </h:outputLink>
                    </f:facet>
                    <center>
                        <h:outputLabel value="Digite o motivo para o cancelamento" />
                        <br /><br />
                        <h:inputTextarea value="#{recepcaoBean.cancelamento.motivo}" cols="50" rows="10" style="resize: none;"/>
                        <h:panelGrid columns="2" styleClass="margin-top">
                            <a4j:commandButton value="Sim" title="Cancelar essa Homologação" action="#{recepcaoBean.cancelarHorario()}" render="i_painel_mensagem" oncomplete="#{rich:component('form_recepcao:i_painel_excluir')}.hide(); #{rich:component('form_recepcao:i_painel_mensagem')}.show();" status="i_status"/>
                            <a4j:commandButton value="Não" title="Desfazer" oncomplete="#{rich:component('form_recepcao:i_painel_excluir')}.hide(); return false;"/>
                        </h:panelGrid>
                    </center>
                </rich:popupPanel>                
                
                <rich:popupPanel id="i_painel_mensagem" modal="true" resizeable="true" width="400" height="200" domElementAttachment="form" header="Mensagem">
                    <f:facet name="controls">
                        <h:outputLink>
                            <a4j:ajax event="click" listener="#{recepcaoBean.imprimirSenha()}" oncomplete="#{rich:component('form_recepcao:i_painel_mensagem')}.hide(); return false;"/>
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>                            
                        </h:outputLink>
                    </f:facet>
                    <center>
                        <h:outputLabel value="#{recepcaoBean.msgConfirma}" />
                        <h:panelGrid columns="2" styleClass="margin-top-maior">
                            <a4j:commandButton value="Voltar para Lista" title="Voltar para Lista" action="#{recepcaoBean.voltar()}" immediate="true" />
                            <a4j:commandButton value="Permanecer" title="Permanecer" action="#{recepcaoBean.imprimirSenha()}" immediate="true"/>
                        </h:panelGrid>
                    </center>
                </rich:popupPanel>                
            </h:form>            
        </f:view>
    </h:body>
</ui:composition>