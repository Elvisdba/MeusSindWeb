<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    
    <h:head>
        <title>Emissão de Carteirinha</title>
        <meta http-equiv="X-UA-Compatible" content="IE=9" />
    </h:head>
    <h:body class="divMenu">
        <f:subview id="header">
            <ui:include src="templates/template.xhtml"/>
            <ui:include src="templates/templateLinks.xhtml"/>
        </f:subview>
        <f:view>
            <h:form id="formSocioCarteirinha">
                <c:set scope="request" var="object" value="${socioCarteirinhaBean.socioCarteirinha}"/>
                <center>
                    <div class="headerPanel">
                        <h:outputText value="Emissão de Carteirinha" styleClass="fontePanel" style="width: 100%;"/>
                    </div>
                    <br /><br />
                    <div class="divMae divFundo" align="left" style="width: 750px">
                        
                        <rich:panel style="width: 700px">
                            <h:panelGrid columns="3">
                                <h:panelGroup style="overflow:auto; height:200px; width: 680px;"  layout="block">
                                    <rich:dataTable var="linha" style="width:100%" id="tbl" value="#{socioCarteirinhaBean.listaSocios}">
                                        <rich:column id="colChk" styleClass="coluna">
                                            <f:facet name="header">
                                                <h:outputText value="Selecione" id="lbChk"/>
                                            </f:facet>
                                            <h:selectBooleanCheckbox value="#{linha.argumento0}"/>
                                        </rich:column>
                                        
                                        <rich:column id="idCodigo">
                                            <f:facet name="header">
                                                <h:outputText value="Código" id="lbCodigo"/>
                                            </f:facet>
                                        </rich:column>
                                        
                                        <rich:column id="idMatricula">
                                            <f:facet name="header">
                                                <h:outputText value="Matrícula" id="lbMatricula"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento1.matriculaSocios.id}"/>
                                        </rich:column>
                                        
                                        <rich:column id="idCategoria">
                                            <f:facet name="header">
                                                <h:outputText value="Categoria" id="lbCategoria"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento1.matriculaSocios.categoria.categoria}"/>
                                        </rich:column>
                                        
                                        <rich:column id="idNomeSocio">
                                            <f:facet name="header">
                                                <h:outputText value="Nome" id="lbNomeSocio"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento1.servicoPessoa.pessoa.nome}"/>
                                        </rich:column>
                                        
                                        <rich:column id="idSubSede">
                                            <f:facet name="header">
                                                <h:outputText value="Sub-Sede" id="lbSubSede"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento2.filial.filial.pessoa.nome}"/>
                                        </rich:column>
                                        
                                        <rich:column id="idCidadeConvenio">
                                            <f:facet name="header">
                                                <h:outputText value="Cidade Convênio" id="lbCidadeConvenio"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento2.cidade.cidade} - #{linha.argumento2.cidade.uf}"/>
                                        </rich:column>
                                    </rich:dataTable>
                                </h:panelGroup>
                            </h:panelGrid>
                        </rich:panel>
                        
                        <br />
                        
                        <h:panelGrid columns="4">
                            <h:outputText value="Adicionar Sócio: " styleClass="fontePadrao"/>
                            <h:outputText value="#{socioCarteirinhaBean.socioCarteirinha.socios.servicoPessoa.pessoa.nome}"
                                          rendered="#{socioCarteirinhaBean.renderAdc}" styleClass="fontePadraoNegrito"/>
                            <a4j:commandButton image="/Imagens/novo.png" action="#{socioCarteirinhaBean.adicionarSocio}" rendered="#{socioCarteirinhaBean.renderAdc}"/>
                            <h:commandButton image="/Imagens/pesquisar.png" action="#{chamadaPaginaBean.pesquisaSocios}"/>
                        </h:panelGrid>
                        
                        <br />
                        
                        <h:panelGrid columns="3">
                            <h:column>
                                <rich:panel>
                                    <div style="overflow:auto; height:100px; width: 300px;">
                                        <a4j:commandLink action="#{socioCarteirinhaBean.habilitarCidade}" value="Cidades do Convênio" styleClass="fonteFranklinNegrito"/>
                                        <h:selectOneRadio id="idRadioCidade" value="#{socioCarteirinhaBean.tipoPesCidades}" styleClass="fontePadrao" disabled="#{socioCarteirinhaBean.desabilitaCidade}">
                                            <f:selectItem itemValue="todos"         itemLabel="Todos"/>
                                            <f:selectItem itemValue="especificas"   itemLabel="Específicas"/>
                                        </h:selectOneRadio>
                                        
                                        <h:selectOneMenu id="idSelectCidade" value="#{socioCarteirinhaBean.idListaCidades}" disabled="#{socioCarteirinhaBean.desabilitaCidade}">
                                            <f:selectItems value="#{socioCarteirinhaBean.listaCidades}"/>
                                        </h:selectOneMenu>
                                    </div>
                                </rich:panel>
                            </h:column>
                            
                            <rich:panel style="margin-left: 50px">
                                <div style="overflow:auto; height:100px; width: 300px;">
                                    <a4j:commandLink action="#{socioCarteirinhaBean.habilitarFilial}" value="Filial" styleClass="fonteFranklinNegrito"/>
                                    <h:selectOneRadio id="idRadioFilial" value="#{socioCarteirinhaBean.tipoPesFilial}" styleClass="fontePadrao" disabled="#{socioCarteirinhaBean.desabilitaFilial}">
                                        <f:selectItem itemValue="todos"         itemLabel="Todos"/>
                                        <f:selectItem itemValue="especificas"   itemLabel="Específicas"/>
                                    </h:selectOneRadio>
                                    
                                    <h:selectOneMenu id="idSelectFilial" value="#{socioCarteirinhaBean.idListaFiliais}" disabled="#{socioCarteirinhaBean.desabilitaFilial}">
                                        <f:selectItems value="#{socioCarteirinhaBean.listaFiliais}"/>
                                    </h:selectOneMenu>
                                </div>
                            </rich:panel>
                        </h:panelGrid>
                        
                        <br />
                        
                        <h:panelGrid columns="2">
                            <a4j:commandLink onclick="modalOpcao('divNovo');" styleClass="idNovo iLink" value="Visualizar"    style="width: 80px"    title="Visualizar"/>
                            <a4j:commandLink onclick="modalOpcao('divNovo');" styleClass="idNovo iLink" value="Gerar Arquivo" style="width: 110px"    title="Gerar Arquivo"/>
                        </h:panelGrid>
                    </div>
                </center>
            </h:form>
        </f:view>
    </h:body>
</ui:composition>