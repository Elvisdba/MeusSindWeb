<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:head>
        <title>Cadastro Juridica</title>
        <meta http-equiv="X-UA-Compatible" content="IE=9" />
    </h:head>
    <h:body styleClass="divMenu" onload="#{rich:element('formPessoaJuridica:iddoc')}.focus();">
        <f:subview id="header">
            <ui:include src="template.xhtml"/>
            <ui:include src="templateLinks.xhtml"/>
        </f:subview>
        <f:view>
            <h:form id="formPessoaJuridica">
                <c:set scope="request" var="object" value="${juridicaBean.juridica}"/>

                <center>
                    <div class="headerPanel">
                        <h:outputText value="Cadastro Jurídica" styleClass="fontePanel" style="width: 100%;"/>
                    </div>
                    <br /><br />
                    <div class="divMae">
                        <rich:tabPanel switchType="client" activeItem="#{juridicaBean.indicaTab}">
                            <a4j:ajax event="itemchange" render="this" listener="#{juridicaBean.refreshForm}"/>
                            <a4j:ajax event="itemchange" listener="#{pessoaComplementoBean.pessoaComplementoPesquisaPessoa(juridicaBean.juridica.pessoa.id)}" />
                            <rich:tab name="pessoal" header="Dados Gerais" style="text-align: left;">
                                <h:panelGrid columns="6" id="i_panel_cnae">
                                    <h:commandButton image="/Imagens/pesquisar.png" alt="Pesquisar Cnae"  action="#{chamadaPaginaBean.pesquisaCnae}"/>
                                    <h:outputLabel value="Cnae: " styleClass="fontePadrao"/>
                                    <h:outputText  value="#{juridicaBean.juridica.cnae.numero} - " styleClass="fontePadraoNegrito"/>
                                    <h:outputLabel value="#{juridicaBean.juridica.cnae.cnae}" styleClass="fontePadraoNegrito"/>
                                    <h:outputText value="#{juridicaBean.cnaeContribuinte}" styleClass="fonteCnaeContribuinte" style="color: #{juridicaBean.colorContri}; margin-left: 20px;" rendered="#{juridicaBean.juridica.cnae != null and juridicaBean.juridica.cnae.id != -1} "/>
                                    <a4j:commandButton id="idExcluirCnae" image="/Imagens/excluirp.png" action="#{juridicaBean.limparCnae()}" render="i_panel_cnae idExcluirCnae" title="Limpar CNAE" rendered="#{juridicaBean.juridica.cnae != null and juridicaBean.juridica.cnae.id != -1}" />
                                </h:panelGrid>

                                <h:panelGrid columns="2" columnClasses="coluna1, coluna2" id="i_panel_dados">
                                    <h:column><h:outputText id="iLink" value="Convenção: " styleClass="fontePadrao" title="Sobre a convenção" /></h:column>
                                    <h:column><h:outputText value="#{juridicaBean.strCnaeConvencao}" styleClass="fontePadraoNegrito"/></h:column>

                                    <h:column><h:outputText value="Grupo Cidade: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:outputLabel id="idStrGrupoCidade" value="#{juridicaBean.strGrupoCidade}" styleClass="fontePadraoNegrito"/>
                                        <h:commandLink rendered="#{juridicaBean.strArquivo}" action="#{juridicaBean.abrirPDFConvencao}" value="( abrir arquivo com Convenções )" style="text-decoration: underline; margin-left: 10px" target="_blank"/>
                                    </h:column>

                                    <h:column><h:outputLabel value="Data do cadastro: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:inputText id="iddata" size="10" maxlength="10" value="#{juridicaBean.juridica.pessoa.criacao}" class="data"/>
                                        <h:outputLabel value="Porte: " styleClass="fontePadrao" style="margin-left: 20px"/>
                                        <h:selectOneMenu value="#{juridicaBean.idPorte}" onchange="submit();">
                                            <f:selectItems value="#{juridicaBean.listaPorte}"/>
                                        </h:selectOneMenu>
                                    </h:column>

                                    <h:column><h:outputLabel value="Documento: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:selectOneMenu value="#{juridicaBean.idTipoDocumento}" onchange="submit();">
                                            <f:selectItems value="#{juridicaBean.listaTipoDocumento}"/>
                                        </h:selectOneMenu>
                                        <h:inputText id="iddoc" size="15" value="#{juridicaBean.juridica.pessoa.documento}" class="#{juridicaBean.colocarMascara}">
                                            <a4j:ajax event="change" render="iddoc idMsgDocumento" listener="#{juridicaBean.pesquisaDocumento}"/>
                                        </h:inputText>
                                        
                                        <a4j:commandLink render="idrazao idnomefan i_panel_cnae i_panel_dados i_panel_endereco idMsgDocumento" value="Pesquisar na Receita Federal" action="#{juridicaBean.pesquisaCnpj}"
                                                         onclick="modalOpcao('divProcesso');" oncomplete="fecharModalOpcao('divProcesso', false)" styleClass="fontePadrao" style="text-decoration: underline; margin-left: 10px"/>
                                            
                                        <h:outputLabel value=" ou " styleClass="fontePadrao"/>
                                        
                                        <h:outputLink value="http://www.receita.fazenda.gov.br/PessoaJuridica/CNPJ/cnpjreva/Cnpjreva_Solicitacao.asp" target="_blank">
                                            <f:verbatim> Ir para Site </f:verbatim>
                                        </h:outputLink>
                                    </h:column>
                                    <h:column></h:column>
                                    <h:column><h:outputLabel id="idMsgDocumento" value="#{juridicaBean.msgDocumento}" styleClass="corErro"/></h:column>
                                    <h:column><h:outputLabel value="Razão Social: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:inputText id="idrazao" size="100" maxlength="150" value="#{juridicaBean.juridica.pessoa.nome}" onblur="upperCase(this);">
                                            <a4j:ajax event="blur" render="idrazao,idnomefan"/>
                                        </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Nome Fantasia: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:inputText id="idnomefan" size="100" maxlength="150" value="#{juridicaBean.juridica.fantasia}" onblur="upperCase(this);">
                                            <a4j:ajax event="change" render="this"/>
                                        </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Telefone: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:inputText id="idtel1" size="10" class="telefone" value="#{juridicaBean.juridica.pessoa.telefone1}">
                                            <a4j:ajax event="blur" render="this"/>
                                        </h:inputText>
                                        <h:inputText id="idtel2" size="10" class="telefone" value="#{juridicaBean.juridica.pessoa.telefone2}">
                                            <a4j:ajax event="blur" render="this"/>
                                        </h:inputText>
                                        <h:inputText id="idtel3" size="10" class="telefone" value="#{juridicaBean.juridica.pessoa.telefone3}">
                                            <a4j:ajax event="blur" render="this"/>
                                        </h:inputText>
                                    </h:column>
                                </h:panelGrid>

                                <h:panelGrid columns="6">
                                    <a4j:commandButton image="/Imagens/pesquisar.png"  title="Pesquisar Contabilidade" onclick="modalOpcao('divPesquisaContabilidade');"/>
                                    <h:outputText value="Serviço Contabil: " styleClass="fontePadrao"/>

                                    <h:commandLink value="#{juridicaBean.juridica.contabilidade.pessoa.nome}" action="#{juridicaBean.editarEmpresaContabilidade}" style="font-weight:bold;"/>
                                    <a4j:commandButton image="/Imagens/excluir.png" rendered="#{ (juridicaBean.juridica.contabilidade != null)}" title="Excluir Serviço Contábil" action="#{juridicaBean.btnExcluirContabilidadePertencente}" />
                                    
                                    <h:selectBooleanCheckbox id="i_chk_contabil" value="#{juridicaBean.chkEndContabilidade}" rendered="#{(juridicaBean.juridica.contabilidade != null)}">
                                        <a4j:ajax event="change" render="i_p"/>
                                    </h:selectBooleanCheckbox>
                                    <h:outputLabel value="Definir Endereço de Escritório para Cobrança" for="i_chk_contabil" style="cursor: pointer" styleClass="fontePadrao" rendered="#{(juridicaBean.juridica.contabilidade != null)}"/>
                                </h:panelGrid>
                                <h:panelGrid id="i_p" columns="6">
                                    <h:selectBooleanCheckbox id="i_chk_email" value="#{juridicaBean.juridica.emailEscritorio}" rendered="#{(juridicaBean.juridica.contabilidade != null and juridicaBean.chkEndContabilidade)}"/>
                                    <h:outputLabel value="Email cobrança escritório" for="i_chk_email" style="cursor: pointer" styleClass="fontePadrao" rendered="#{(juridicaBean.juridica.contabilidade != null and juridicaBean.chkEndContabilidade)}"/>                                    
                                </h:panelGrid>
                                
                            </rich:tab>

                            <rich:tab name="juridica" header="Complemento" style="text-align: left">
                                <h:panelGrid columns="2" columnClasses="coluna1, coluna2">
                                    <h:column><h:outputLabel value="Inscrição Estadual: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputText id="idinsest" size="30" maxlength="30" value="#{juridicaBean.juridica.inscricaoEstadual}" onblur="upperCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                            </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Inscrição Municipal: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputText id="idinsmun" size="30" maxlength="30" value="#{juridicaBean.juridica.inscricaoMunicipal}" onblur="upperCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                            </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Contato: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputText id="idcon" size="35" maxlength="50" value="#{juridicaBean.juridica.contato}" onblur="upperCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                            </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Abertura: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputText id="idaber" size="10" maxlength="8" value="#{juridicaBean.juridica.abertura}" class="data">
                                                <a4j:ajax event="blur" render="this"/>
                                            </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Responsável: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputText id="idresp" size="50" maxlength="50" value="#{juridicaBean.juridica.responsavel}" onblur="upperCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                            </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Site: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputText id="idsite" size="40" maxlength="50" value="#{juridicaBean.juridica.pessoa.site}">
                                                <a4j:ajax event="blur" render="this"/>
                                            </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="E-Mail: " styleClass="fontePadrao"/></h:column>
                                    <h:column>
                                        <h:inputText id="idemail1" size="70" maxlength="100" value="#{juridicaBean.juridica.pessoa.email1}" onblur="lowerCase(this);">
                                            <a4j:ajax event="blur" render="this"/>
                                        </h:inputText>
                                        <a4j:commandLink value="Enviar Login e Senha" styleClass="idNovo iLink" style="width: 200px;" action="#{juridicaBean.enviarEmail}" rendered="#{juridicaBean.renEnviarEmail}" render="outConfirma" oncomplete="modalMensagem()"/>
                                    </h:column>

                                    <h:column />
                                    <h:column><h:inputText id="idemail2" size="70" maxlength="100" value="#{juridicaBean.juridica.pessoa.email2}" onblur="lowerCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                              </h:inputText>
                                    </h:column>

                                    <h:column />
                                    <h:column><h:inputText id="idemail3" size="70" maxlength="100" value="#{juridicaBean.juridica.pessoa.email3}" onblur="lowerCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                              </h:inputText>
                                    </h:column>

                                    <h:column><h:outputLabel value="Observações: " styleClass="fontePadrao"/></h:column>
                                    <h:column><h:inputTextarea cols="70" rows="3" value="#{juridicaBean.juridica.pessoa.obs}" onblur="upperCase(this);">
                                                <a4j:ajax event="blur" render="this"/>
                                              </h:inputTextarea>
                                    </h:column>
                                </h:panelGrid>
                            </rich:tab>

                            <rich:tab name="idServContabil" header="Serv. Contabil" style="text-align: left" disabled="#{juridicaBean.listaEmpresasPertencentes.size() == 0}">
                                <div style="overflow:auto; height:250px;">
                                    <rich:dataTable value="#{juridicaBean.listaEmpresasPertencentes}" var="linha" iterationStatusVar="it">
                                        <rich:column style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="#"/>
                                            </f:facet>
                                            <h:outputText value="#{it.index}"/>
                                        </rich:column>
                                        
                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="CNPJ - Nome"/>
                                            </f:facet>
                                            <h:commandLink value="#{linha.argumento0.pessoa.documento} - #{linha.argumento0.pessoa.nome}" action="#{juridicaBean.editarEmpresaPertencente}">
                                                <a4j:param value="#{it.index}" assignTo="#{juridicaBean.idIndexPertencente}" />
                                            </h:commandLink>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Cidade/UF"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.argumento1.endereco.cidade.cidade} - #{linha.argumento1.endereco.cidade.uf}"/>
                                        </rich:column>
                                    </rich:dataTable>
                                </div>
                            </rich:tab>
                            
                            <rich:tab name="financeiro" header="Financeiro" style="text-align: left">
                                 <ui:include src="pessoaComplemento.xhtml">  
                                    <ui:param name="idPessoa" value="#{juridicaBean.juridica.pessoa.id}" />
                                </ui:include>                                 
                            </rich:tab>
                            
                        </rich:tabPanel>
                        
                        <h:panelGrid style="width: 100%; text-align: left">
                            <h:panelGrid columns="1">
                                <h:outputLabel value="#{juridicaBean.inadimplente}" styleClass="fontePadraoVermelho" />
                            </h:panelGrid>
                            
                            <h:panelGrid columns="4">
                                <h:outputLabel value="Status: " styleClass="fontePadrao"/>
                                <h:outputText value="#{juridicaBean.contribuinte}" styleClass="fontePadrao" style="font-size: 15pt;"/>
                                <a4j:commandLink value="Inativar" styleClass="idNovo iLink" onclick="modalOpcao('divInativarContribuinte');" rendered="#{ (juridicaBean.juridica.id != -1) and (juridicaBean.renderAtivoInativo) }" style="margin-left: 20px; width: 80px;"/>
                                <a4j:commandLink value="Ativar" styleClass="idNovo iLink" oncomplete="modalMensagem()" action="#{juridicaBean.reativarContribuintes}" rendered="#{ (juridicaBean.juridica.id != -1) and (!juridicaBean.renderAtivoInativo) }" style="margin-left: 20px; width: 80px;" render="outConfirma"/>
                                <rich:collapsiblePanel  switchType="client" header="Visualizar Inativações" expanded="false"  rendered="#{juridicaBean.listaContribuintesInativos.size() > 0}">
                                    <rich:dataTable var="linha" value="#{juridicaBean.listaContribuintesInativos}" iterationStatusVar="it">
                                        <rich:column style="text-align: center;">
                                            <f:facet name="header">
                                                <h:outputText value="#"/>
                                            </f:facet>
                                            <h:outputText value="#{it.index}"/>
                                        </rich:column>
                                        
                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Data de Ativação"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.ativacao}"/>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Data de Inativação"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.inativacao}"/>
                                        </rich:column>
                                        
                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Solicitante"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.solicitante}"/>
                                        </rich:column>
                                        
                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Observação"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.observacao}"/>
                                        </rich:column>

                                        <rich:column>
                                            <f:facet name="header">
                                                <h:outputText value="Motivo da Inativação"/>
                                            </f:facet>
                                            <h:outputText value="#{linha.motivoInativacao.descricao}"/>
                                        </rich:column>

                                        <rich:column style="text-align:center;">
                                            <f:facet name="header">
                                                <h:outputText value="Excluir"/>
                                            </f:facet>
                                            <a4j:commandButton image="/Imagens/excluirp.png" action="#{juridicaBean.btnExcluirMotivoInativacao}" oncomplete="modalMensagem()" render="outConfirma">
                                                <a4j:param value="#{it.index}" assignTo="#{juridicaBean.idIndexInativacao}" />
                                            </a4j:commandButton>
                                        </rich:column>
                                    </rich:dataTable>
                                </rich:collapsiblePanel>
                            </h:panelGrid>
                        </h:panelGrid>
                        
                        <rich:panel>
                            <h:panelGrid id="i_panel_endereco" style="width: 100%; text-align: right">
                                <h:panelGrid columns="4">
                                    <h:outputLabel value="Endereço: " styleClass="fontePadrao"/>
                                    <h:outputLabel value="#{juridicaBean.enderecoCobranca}" styleClass="fontePadraoNegrito">
                                        <a4j:ajax render="idPGNovoEndereco,idPGEndereco" event="click"/>
                                    </h:outputLabel>
                                    <a4j:commandLink title="Adicionar" value=" ... " action="#{juridicaBean.abreEndereco}" styleClass="idNovo iLink"
                                                    render ="TEndereco,idPGNovoEndereco,idPGEndereco" rendered="#{juridicaBean.renAbreEnd}"/>
                                    <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Aguarde"/></f:facet></a4j:status>
                                </h:panelGrid>
                            </h:panelGrid>

                            <h:panelGrid id="idPGNovoEndereco" rendered="#{juridicaBean.renNovoEndereco}" style="width: 100%; text-align: left">
                                <h:inputHidden value="#{juridicaBean.pessoaEndereco.id}"/>
                                <h:panelGrid columns="2">
                                    <h:column>
                                        <a4j:commandButton image="/Imagens/pesquisar.png" title="Pesquisar Endereço"  action="#{chamadaPaginaBean.pesquisaEndereco}" immediate="true"/>
                                    </h:column>
                                    <h:column>
                                        <h:outputLabel value="Endereço: " styleClass="fontePadrao"/>
                                        <h:outputLabel styleClass="corEndereco" value="#{juridicaBean.retornarEnderecoAmbos}"/>
                                    </h:column>
                                </h:panelGrid>

                                <h:panelGrid columns="10">
                                    <h:outputLabel value="Número: " styleClass="fontePadrao"/>
                                    <h:inputText size="10" value="#{juridicaBean.pessoaEndereco.numero}"/>
                                    <h:outputLabel value="Complemento: " styleClass="fontePadrao"/>
                                    <h:inputText size="35" value="#{juridicaBean.pessoaEndereco.complemento}"/>
                                    <a4j:commandButton image="/Imagens/novo.png" title="Adicionar" value="Adicionar" action="#{juridicaBean.adicionarEnderecos}" render="TEndereco"/>
                                </h:panelGrid>
                            </h:panelGrid>

                            <h:panelGrid id="idPGEndereco" rendered="#{juridicaBean.renEndereco}" style="width:100%; text-align: right">
                                <rich:dataTable value="#{juridicaBean.listaEnderecos}" var="linha" iterationStatusVar="it" style="width:100%" id="TEndereco" >

                                    <rich:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="#"/>
                                        </f:facet>
                                        <h:outputText value="#{it.index}"/>
                                    </rich:column>

                                    <rich:column styleClass="colunaPesquisa">
                                        <f:facet name="header">
                                            <h:outputText value="Tipo"/>
                                        </f:facet>
                                        <a4j:commandLink action="#{juridicaBean.RetornarObjetoDaGrid}" value="#{linha.tipoEndereco.descricao}" render="idPGEndereco,idPGNovoEndereco">
                                            <a4j:param value="#{it.index}" assignTo="#{juridicaBean.idIndexEndereco}" />
                                        </a4j:commandLink>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Logradouro"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.endereco.logradouro.descricao}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Descrição"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.endereco.descricaoEndereco.descricao}, #{linha.numero}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Complemento"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.complemento}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Bairro"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.endereco.bairro.descricao}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Cidade/UF"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.endereco.cidade.cidade} - #{linha.endereco.cidade.uf}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="CEP"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.endereco.cep}"/>
                                    </rich:column>
                                </rich:dataTable>
                            </h:panelGrid>
                        </rich:panel>
                        <h:panelGrid columns="1" style="width: 100%; text-align: left; margin-top: 10px; color: ">
                            <h:column>
                                <a4j:commandLink onclick="modalOpcao('divSalvar');" styleClass="idSalvar iLink" value="Salvar" disabled="#{controleAcessoBean.botaoSalvar}"/>
                                <a4j:commandLink styleClass="idNovo iLink" value="Novo" action="#{juridicaBean.novo()}"/>
                                <a4j:commandLink onclick="modalOpcao('divExcluir');" styleClass="idExcluir iLink" value="Excluir" disabled="#{controleAcessoBean.botaoExcluir}"/>
                                <a4j:commandLink styleClass="idPesquisar iLink" value="Pesquisar" action="#{chamadaPaginaBean.pesquisaPessoaJuridica()}"/>
                                <a4j:commandLink styleClass="idPesquisar iLink" value="Extrato na Tela" action="#{juridicaBean.extratoTela}" disabled="#{juridicaBean.habilitar}" style="width: 150px;"/>
                            </h:column>
                        </h:panelGrid>
                    </div>
                </center>

                <div id="boxes">
                    <div id="divPesquisaContabilidade" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <div style="margin: 15px;">
                            <h:panelGrid columns="4">
                                <h:outputLabel value="Nome: " styleClass="fontePadrao"/>
                                <h:inputText value="#{juridicaBean.contabilidade.pessoa.nome}"/>
                                <a4j:commandLink styleClass="idPesquisar iLink" value="Inicial" style="margin-left: 10px;" action="#{juridicaBean.pesquisaContabilidadeI}" render="tblContabilidade"/>
                                <a4j:commandLink styleClass="idPesquisar iLink" value="parcial" style="margin-left: 10px;" action="#{juridicaBean.pesquisaContabilidadeP}" render="tblContabilidade"/>
                            </h:panelGrid>
                            
                            <h:panelGrid columns="2">
                                <rich:dataTable value="#{juridicaBean.listaContabilidade}" var="linha" iterationStatusVar="it" id="tblContabilidade">
                                    <rich:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="#"/>
                                        </f:facet>
                                        <h:outputText value="#{it.index}"/>
                                    </rich:column>

                                    <rich:column styleClass="colunaPesquisa">
                                        <f:facet name="header">
                                            <h:outputText value="ID"/>
                                        </f:facet>

                                        <a4j:commandLink action="#{juridicaBean.editarContabilidade}" value="#{linha.id}">
                                            <a4j:param value="#{it.index}" assignTo="#{juridicaBean.idIndexContabilidade}" />
                                        </a4j:commandLink>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Nome"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.pessoa.nome}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="E-mail"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.pessoa.email1}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Documento"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.pessoa.tipoDocumento.descricao} - #{linha.pessoa.documento}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header">
                                            <h:outputText value="Telefone"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.pessoa.telefone1}"/>
                                    </rich:column>
                                </rich:dataTable>                                
                            </h:panelGrid>
                        </div>
                    </div>
                    <div id="mask"></div>
                </div>
                
                <div id="boxes">
                    <div id="divInativarContribuinte" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <div style="margin: 15px;">
                            
                            <h:panelGrid columns="3">
                                <h:outputText value="Empresa: " styleClass="fontePadrao"/>
                                <h:outputText value="#{juridicaBean.juridica.pessoa.nome}" styleClass="negritoDescricao"/>
                            </h:panelGrid>

                            <h:panelGrid columns="6">
                                <h:outputText value="Data de Ativação: " styleClass="fontePadrao"/>
                                <h:outputText value="#{juridicaBean.juridica.pessoa.criacao}" styleClass="negritoDescricao"/>

                                <h:outputText value="Data de Inativação: " styleClass="fontePadrao" style="margin-left: 20px;"/>
                                <h:inputText  value="#{juridicaBean.contribuintesInativos.inativacao}" size="10" maxlength="10" class="data"/>
                            </h:panelGrid>

                            <h:panelGrid columns="6">
                                <h:outputText value="Motivo da Inativação: " styleClass="fontePadrao"/>
                                <h:selectOneMenu value="#{juridicaBean.idMotivoInativacao}">
                                    <a4j:ajax event="change" render="this"/>
                                    <f:selectItems value="#{juridicaBean.listaMotivoInativacao}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            
                            <h:panelGrid columns="6">
                                <h:outputText value="Solicitante: " styleClass="fontePadrao" style="margin-left: 20px;"/>
                                <h:inputText  value="#{juridicaBean.contribuintesInativos.solicitante}" size="50" />
                            </h:panelGrid>
                            
                            <h:panelGrid columns="6">
                                <h:outputText value="Observação: " styleClass="fontePadrao" style="margin-left: 20px;"/>
                                <h:inputTextarea value="#{juridicaBean.contribuintesInativos.observacao}" cols="50" rows="3" />
                            </h:panelGrid>
                            
                            <h:panelGrid columns="6">
                                <a4j:commandLink value="Salvar" styleClass="idSalvar iLink" action="#{juridicaBean.inativarContribuintes}"  oncomplete="modalMensagem()" render="outConfirma"/>
                            </h:panelGrid>
                        
                        </div>
                    </div>
                    <div id="mask"></div>
                </div>
                
                <div id="boxes">
                    <div id="divSalvar" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Deseja salvar este Cadastro?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Salvando"/></f:facet></a4j:status>
                            </h:panelGrid>

                            <br />
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" title="Salvar" action="#{juridicaBean.salvar}" oncomplete="modalMensagem()" render="outConfirma,idTabProf" disabled="#{controleAcessoBean.botaoSalvar}"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar" />
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>

                <div id="boxes">
                    <div id="divExcluir" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Deseja excluir este Cadastro?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                            </h:panelGrid>
                            <br />
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" title="Sim" action="#{juridicaBean.excluir}" oncomplete="modalMensagem()" render="outConfirma"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>

                <div id="boxes">
                    <div id="divMensagem" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:outputText id="outConfirma" value="#{juridicaBean.msgConfirma}" styleClass="fontePadrao"/>
                            <br /><br />
                            <a4j:commandLink styleClass="idNovo iLink closeModal" action="pessoaJuridica" value="OK" title="OK" />
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>
                
                <div id="boxes">
                    <div id="divProcesso" class="window">
                        <br />
                        <center>
                            <h:outputText value="Aguarde ... Acessando Receita" styleClass="fontePadrao" style="color: white"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>

            </h:form>
        </f:view>
    </h:body>
</ui:composition>