
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Extrato de Tela</title>
        <meta http-equiv="X-UA-Compatible" content="IE=9" />
    </h:head>
    <h:body class="divMenu">
        <f:subview id="header">
            <ui:include src="templates/template.xhtml"/>
            <ui:include src="templates/templateLinks.xhtml"/>
        </f:subview>
        <f:view>
            <h:form id="formExtratoTela">

                <center>
                    <div class="headerPanel">
                        <h:outputText value="Extrato de Tela" styleClass="fontePanel" style="width: 100%;"/>
                    </div>
                    <br /><br />
                    <div class="divMae divFundo" align="left" style="width: auto">

                        <h:panelGrid columns="4">
                            <h:column>
                                <h:outputText value="Filtrar Por:" styleClass="fonteExtratoTela"/>
                                <h:selectOneMenu value="#{extratoTelaBean.porPesquisa}" rendered="#{controleAcessoBean.listaExtratoTela}">
                                    <a4j:ajax event="change" render="this" />
                                    <f:selectItem itemValue="todos"             itemLabel="Todas"/>
                                    <f:selectItem itemValue="recebidas"         itemLabel="Recebidas"/>
                                    <f:selectItem itemValue="naoRecebidas"      itemLabel="Não Recebidas"/>
                                    <f:selectItem itemValue="atrazadas"         itemLabel="Atrasadas"/>
                                </h:selectOneMenu>
                                <h:selectOneMenu value="#{extratoTelaBean.porPesquisa}" rendered="#{!controleAcessoBean.listaExtratoTela}">
                                    <a4j:ajax event="change" render="this"/>
                                    <f:selectItem itemValue="naoRecebidas"      itemLabel="Não Recebidas"/>
                                    <f:selectItem itemValue="atrazadas"         itemLabel="Atrasadas"/>
                                </h:selectOneMenu>
                            </h:column>

                            <h:column>
                                <h:outputText value="Gerados pela Caixa:" styleClass="fonteExtratoTela" style="margin-left: 15px"/>
                                <h:selectOneMenu value="#{extratoTelaBean.geraPesquisa}">
                                    <a4j:ajax event="change" render="this" />
                                    <f:selectItem itemValue="sim"               itemLabel="Sim"/>
                                    <f:selectItem itemValue="nao"               itemLabel="Não"/>
                                    <f:selectItem itemValue="naoVerificar"      itemLabel="Não Verificar"/>
                                </h:selectOneMenu>
                            </h:column>

                            <h:column>
                                <h:outputText value="Ordenação: " styleClass="fonteExtratoTela" style="margin-left: 15px"/>
                                <h:selectOneMenu value="#{extratoTelaBean.ordenacao}">
                                    <a4j:ajax event="change" render="this" />
                                    <f:selectItem itemValue="referencia"        itemLabel="Referência"/>
                                    <f:selectItem itemValue="vencimento"        itemLabel="Vencimento"/>
                                    <f:selectItem itemValue="quitacao"          itemLabel="Quitação"/>
                                    <f:selectItem itemValue="importacao"        itemLabel="Importação"/>
                                </h:selectOneMenu>
                            </h:column>

                            <a4j:commandButton value="Filtrar" style="margin-left: 15px" action="#{extratoTelaBean.loadList()}" render="tbl, idQntBoletos, idSomarVlRecebido, idSomarVlTotal, idSomarTaxa, idSomarVlLiquido, idSomarVlLiquidoRepasse, idValorExtenso, idSomarVlNaoRecebido" 
                                               onclick="modalOpcao('divProcesso');" oncomplete="fecharModalOpcao('divProcesso', false)"/>

                        </h:panelGrid>

                        <br />

                        <h:panelGrid columns="5">
                            <h:column>
                                <rich:panel style="height: 120px">
                                    <h:panelGrid columns="2">
                                        <h:selectBooleanCheckbox value="#{extratoTelaBean.chkData}">
                                            <a4j:ajax event="change" render="idDtInicial,idDtFinal,idDtMAInicial,idDtMAFinal,idFiltroData"/>
                                        </h:selectBooleanCheckbox>

                                        <h:selectOneMenu id="idFiltroData" value="#{extratoTelaBean.tipoDataPesquisa}" disabled="#{!extratoTelaBean.chkData}" onchange="submit();">
                                            <f:selectItem itemValue="importacao"  itemLabel="Faixa de Importação"/>
                                            <f:selectItem itemValue="recebimento" itemLabel="Faixa de Recebimento"/>
                                            <f:selectItem itemValue="vencimento"  itemLabel="Faixa de Vencimento"/>
                                            <f:selectItem itemValue="referencia"  itemLabel="Faixa de Referência"/>
                                        </h:selectOneMenu>
                                    </h:panelGrid>
                                    <br />
                                    <h:panelGrid id="ipdata" columns="2" rendered="#{extratoTelaBean.tipoDataPesquisa != 'referencia'}">
                                        <h:outputLabel value="Data Inicial: " styleClass="fonteExtratoTela" for="idDtInicial"/>
                                        <h:inputText id="idDtInicial" size="7" class="data" value="#{extratoTelaBean.dataInicial}" disabled="#{!extratoTelaBean.chkData}"/>

                                        <h:outputLabel value="Data Final: " styleClass="fonteExtratoTela" for="idDtFinal"/>
                                        <h:inputText id="idDtFinal" size="7" class="data" value="#{extratoTelaBean.dataFinal}" disabled="#{!extratoTelaBean.chkData}"/>
                                    </h:panelGrid>

                                    <h:panelGrid id="ipref" columns="2" rendered="#{extratoTelaBean.tipoDataPesquisa == 'referencia'}">
                                        <h:outputLabel value="Data Mês/Ano Inicial: " styleClass="fonteExtratoTela" for="idDtMAInicial"/>
                                        <h:inputText id="idDtMAInicial" size="5" class="referencia" value="#{extratoTelaBean.dataRefInicial}" disabled="#{!extratoTelaBean.chkData}"/>

                                        <h:outputLabel value="Data Mês/Ano Final: " styleClass="fonteExtratoTela" for="idDtMAFinal"/>
                                        <h:inputText id="idDtMAFinal" size="5" class="referencia" value="#{extratoTelaBean.dataRefFinal}" disabled="#{!extratoTelaBean.chkData}"/>
                                    </h:panelGrid>
                                </rich:panel>
                            </h:column>

                            <h:column>
                                <rich:panel style="height: 120px; margin-left: 8px">
                                    <h:panelGrid>
                                        <h:panelGrid columns="2">
                                            <h:selectBooleanCheckbox value="#{extratoTelaBean.chkNrBoletos}">
                                                <a4j:ajax event="change" render="idBoletoInicial, idBoletoFinal"/>
                                            </h:selectBooleanCheckbox>
                                            <h:outputLabel value="Boleto Inicial: " styleClass="fonteExtratoTela" for="idBoletoInicial"/>
                                        </h:panelGrid>
                                        <h:inputText id="idBoletoInicial" size="20" value="#{extratoTelaBean.boletoInicial}" disabled="#{!extratoTelaBean.chkNrBoletos}"/>
                                    </h:panelGrid>

                                    <h:panelGrid>
                                        <h:outputLabel value="Boleto Final: " styleClass="fonteExtratoTela" for="idBoletoFinal"/>
                                        <h:inputText id="idBoletoFinal" size="20" value="#{extratoTelaBean.boletoFinal}" disabled="#{!extratoTelaBean.chkNrBoletos}"/>
                                    </h:panelGrid>
                                </rich:panel>
                            </h:column>

                            <h:column>
                                <rich:panel style="height:120px; margin-left: 8px">
                                    <h:panelGrid columns="10">
                                        <h:column>
                                            <h:selectBooleanCheckbox value="#{extratoTelaBean.chkContribuicao}">
                                                <a4j:ajax event="change" render="idContri"/>
                                            </h:selectBooleanCheckbox>
                                            <h:outputText value="Contribuição: " styleClass="fonteExtratoTela"/>
                                            <h:selectOneMenu id="idContri" value="#{extratoTelaBean.idContribuicao}" disabled="#{!extratoTelaBean.chkContribuicao}">
                                                <a4j:ajax event="change" render="this" />
                                                <f:selectItems value="#{extratoTelaBean.listaServico}"/>
                                            </h:selectOneMenu>
                                        </h:column>

                                        <h:column>
                                            <h:selectBooleanCheckbox value="#{extratoTelaBean.chkTipo}">
                                                <a4j:ajax event="change" render="idTipoContri"/>
                                            </h:selectBooleanCheckbox>
                                            <h:outputText value="Tipo: " styleClass="fonteExtratoTela"/>
                                            <h:selectOneMenu id="idTipoContri" value="#{extratoTelaBean.idTipoServico}" disabled="#{!extratoTelaBean.chkTipo}">
                                                <a4j:ajax event="change" render="this"/>
                                                <f:selectItems value="#{extratoTelaBean.listaTipoServico}"/>
                                            </h:selectOneMenu>
                                        </h:column>
                                    </h:panelGrid>

                                    <h:panelGrid columns="1">
                                        <h:column>
                                            <h:selectBooleanCheckbox value="#{extratoTelaBean.chkEmpresa}">
                                                <a4j:ajax event="change" render="@form" />
                                            </h:selectBooleanCheckbox>
                                            <h:outputText value="Pessoa:" styleClass="fonteExtratoTela"/>
                                            <h:outputText id="lbtipoDocumento" value="#{extratoTelaBean.pessoa.tipoDocumento.descricao}" styleClass="fonteExtratoTela"/>
                                        </h:column>
                                    </h:panelGrid>

                                    <h:panelGrid columns="10">
                                        <h:column>
                                            <h:inputText id="idEmpresa" size="40" value="#{extratoTelaBean.pessoa.nome}" disabled="true"/>
                                            <h:inputText id="idEmpresaCNPJ" size="15" value="#{extratoTelaBean.pessoa.documento}" disabled="true"/>
                                            <h:commandButton id="idEmpresaPes" alt="Pesquisar Empresa" value="..." action="#{chamadaPaginaBean.pesquisaPessoa}" immediate="true" disabled="#{!extratoTelaBean.chkEmpresa}" />
                                        </h:column>
                                    </h:panelGrid>
                                    
                                    <h:panelGrid rendered="#{extratoTelaBean.listaEmpresasPertencentes.size() gt 1}">
                                        <h:column>
                                            <h:selectBooleanCheckbox value="#{extratoTelaBean.movimentosDasEmpresas}">
                                                <a4j:ajax event="change" render="@form" />
                                            </h:selectBooleanCheckbox>
                                            <h:outputText value="Ver os movimentos das empresas vinculadas" styleClass="fonteExtratoTela"/>
                                        </h:column>
                                    </h:panelGrid>
                                </rich:panel>
                            </h:column>
                        </h:panelGrid>

                        <br />

                        <rich:panel style="width: 965px">
                            <h:panelGroup style="overflow:auto; height:200px; width:950px;" layout="block">
                                <rich:dataTable value="#{extratoTelaBean.listaMovimentos}" var="linha" id="tbl" iterationStatusVar="it" rows="500" style="width: 700px" rowClasses="#{linha.argumento26}">
                                    <rich:column styleClass="coluna">
                                        <f:facet name="header">
                                            <h:outputText value="#"/>
                                        </f:facet>
                                        <h:outputText value="#{it.index}"/>
                                    </rich:column> 

                                    <rich:column styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Selecione"/></f:facet>
                                        <h:selectBooleanCheckbox value="#{linha.argumento0}">
                                            <a4j:ajax event="change" render="this"/>
                                        </h:selectBooleanCheckbox>
                                    </rich:column>

                                    <rich:column rendered="#{extratoTelaBean.pessoa.id == -1 or extratoTelaBean.chkEmpresa == false or extratoTelaBean.listaEmpresasPertencentes.size() gt 1}">
                                        <f:facet name="header"><h:outputText value="CNPJ"/></f:facet>
                                        <div style="width: 100px">
                                            <h:outputText value="#{linha.argumento4}"/>
                                        </div>
                                    </rich:column>

                                    <rich:column sortBy="#{linha.argumento5}" rendered="#{extratoTelaBean.pessoa.id == -1 or extratoTelaBean.chkEmpresa == false or extratoTelaBean.listaEmpresasPertencentes.size() gt 1}">
                                        <f:facet name="header"><h:outputText value="Razão"/></f:facet>
                                        <div style="width: 300px">
                                            <h:outputText value="#{linha.argumento5}"/>
                                        </div>
                                    </rich:column>

                                    <rich:column sortBy="#{linha.argumento6}">
                                        <f:facet name="header"><h:outputText value="Boleto"/></f:facet>
                                        <h:outputText value="#{linha.argumento6}"/>
                                    </rich:column>

                                    <rich:column sortBy="#{linha.argumento7}">
                                        <f:facet name="header"><h:outputText value="Contribuinção"/></f:facet>
                                        <h:outputText value="#{linha.argumento7}"/>
                                    </rich:column>

                                    <rich:column styleClass="coluna" sortBy="#{linha.argumento14}">
                                        <f:facet name="header"><h:outputText value="Tipo"/></f:facet>
                                        <h:outputText value="#{linha.argumento14}"/>
                                    </rich:column>

                                    <rich:column styleClass="coluna" sortBy="#{linha.argumento8}">
                                        <f:facet name="header"><h:outputText value="Referência"/></f:facet>
                                        <h:outputText value="#{linha.argumento8}"/>
                                    </rich:column>

                                    <rich:column styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Vencimento"/></f:facet>
                                        <h:column rendered="#{(linha.argumento21 == true) and (controleAcessoBean.botaoAlterarDataVenctoExtrato == false)}">
                                            <a4j:commandLink value="#{linha.argumento9}" action="#{extratoTelaBean.carregaDataAntiga}" onclick="modalOpcao('divAlterarVencimento');" render="dataAntigo,inputNovo">
                                                <a4j:param value="#{it.index}" assignTo="#{extratoTelaBean.idIndex}"/>
                                            </a4j:commandLink>
                                        </h:column> 

                                        <h:column rendered="#{linha.argumento21 == false || controleAcessoBean.botaoAlterarDataVenctoExtrato == true}">
                                            <h:outputText value="#{linha.argumento9}"/>
                                        </h:column>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header"><h:outputText value="Valor"/></f:facet>
                                        <h:outputText value="#{linha.argumento11}" style="float: right"/>
                                    </rich:column>

                                    <rich:column styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Quitação"/></f:facet>
                                        <h:outputText value="#{linha.argumento15}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header"><h:outputText value="Vlr Baixa"/></f:facet>
                                        <h:outputText value="#{linha.argumento25}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header"><h:outputText value="Taxa"/></f:facet>
                                        <h:outputText value="#{linha.argumento12}"/>
                                    </rich:column>

                                    <rich:column styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Importação"/></f:facet>
                                        <h:outputText value="#{linha.argumento10}"/>
                                    </rich:column>

                                    <rich:column style="width: 500px"  styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Usuário"/></f:facet>
                                        <div style="width: 400px">
                                            <h:outputText value="#{linha.argumento13}"/>
                                        </div>
                                    </rich:column>

                                    <rich:column style="width: 500px" styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Filial"/></f:facet>
                                        <div style="width: 400px">
                                            <h:outputText value="#{linha.argumento24}"/>
                                        </div>
                                    </rich:column>

                                    <rich:column styleClass="coluna">
                                        <f:facet name="header"><h:outputText value="Lote"/></f:facet>
                                        <h:outputText value="#{linha.argumento22}"/>
                                    </rich:column>

                                    <rich:column>
                                        <f:facet name="header"><h:outputText value="Beneficiário"/></f:facet>
                                        <div style="width: 400px">
                                            <h:outputText value="#{linha.argumento23}"/>
                                        </div>
                                    </rich:column>
                                    
                                    <rich:column style="text-align: center">
                                        <f:facet name="header"><h:outputText value="Ult. Impressão"/></f:facet>
                                        <a4j:commandLink onclick="modalOpcao('divUltimaImpressao');" value="#{extratoTelaBean.getUltimaImpressão(linha.argumento1)}" action="#{extratoTelaBean.verUltimaImpressão(linha.argumento1)}" title="Ver Lista de Impressões" render="tbl_impressao"/>
                                    </rich:column>
                                </rich:dataTable>
                            </h:panelGroup>
                        </rich:panel>

                        <h:panelGrid columns="1">
                            <f:facet name="footer">
                                <rich:dataScroller id="datascroller2" render="datascroller1" for="tbl"/>
                            </f:facet>
                        </h:panelGrid>                        

                        <br />

                        <rich:panel style="width: 1024px">
                            <h:panelGrid columns="7">
                                <h:column>
                                    <h:outputLabel value="Núm de Boletos: " styleClass="fonteExtratoTela" for="idQntBoletos"/> <br />
                                    <h:inputText id="idQntBoletos" size="10" value="#{extratoTelaBean.qntBoletos}" readonly="true" style="font-weight:bold; text-align:center;"/>
                                </h:column>

                                <h:column rendered="#{controleAcessoBean.totalValorExtratoTela}">
                                    <h:outputLabel value="Total Recebido: " styleClass="fonteExtratoTela" for="idSomarVlRecebido"/> <br />
                                    <h:inputText id="idSomarVlRecebido" size="15" value="#{extratoTelaBean.vlRecebido}" readonly="true" style="font-weight:bold; text-align: right"/>
                                </h:column>
                                
                                <h:column rendered="#{controleAcessoBean.totalValorExtratoTela}">
                                    <h:outputLabel value="Total NÃO Recebido: " styleClass="fonteExtratoTela" for="idSomarVlNaoRecebido"/> <br />
                                    <h:inputText id="idSomarVlNaoRecebido" size="15" value="#{extratoTelaBean.vlNaoRecebido}" readonly="true" style="font-weight:bold; text-align: right"/>
                                </h:column>

                                <h:column rendered="#{controleAcessoBean.totalValorExtratoTela}">
                                    <h:outputLabel value="Total Valor: " styleClass="fonteExtratoTela" for=""/> <br />
                                    <h:inputText id="idSomarVlTotal" size="15" value="#{extratoTelaBean.vlTotal}" readonly="true" style="font-weight:bold; text-align: right" />
                                </h:column>

                                <h:column>
                                    <h:outputLabel value="Total Taxa: " styleClass="fonteExtratoTela" for="idSomarTaxa"/> <br />
                                    <h:inputText id="idSomarTaxa" size="10" value="#{extratoTelaBean.vlTaxa}" readonly="true" style="font-weight:bold; text-align: right" />
                                </h:column>

                                <h:column>
                                    <h:outputLabel value="Total Liquido: " styleClass="fonteExtratoTela" for="idSomarVlLiquido"/> <br />
                                    <h:inputText id="idSomarVlLiquido" size="15" value="#{extratoTelaBean.vlLiquido}" readonly="true" style="font-weight:bold; text-align: right" />
                                </h:column>

                                <h:column>
                                    <h:outputLabel value="Liquido - Repasse: " styleClass="fonteExtratoTela" for="idSomarVlLiquidoRepasse"/> <br />
                                    <h:inputText id="idSomarVlLiquidoRepasse" size="12" value="#{extratoTelaBean.vlRepasse}" readonly="true" style="font-weight:bold; text-align: right" />
                                </h:column>
                            </h:panelGrid>
                        </rich:panel>

                        <br />
                        <h:panelGrid columns="6">
                            <h:selectBooleanCheckbox value="#{extratoTelaBean.imprimirVerso}">
                                <a4j:ajax event="change" render="this"/>
                            </h:selectBooleanCheckbox>
                            <h:outputLabel value=" Imprime Verso" styleClass="fontePadrao"/>
                            <h:commandLink styleClass="idNovo iLink" action="#{extratoTelaBean.imprimir}" value="Imprimir Boleto" style="width: 150px; margin-left: 7px" title="Imprimir Boleto" target="_blank"/>
                            <h:outputLabel value="#{extratoTelaBean.msgConfirma}" styleClass="corErro" style="margin-right: 7px"/>
                            <a4j:commandLink onclick="modalOpcao('divExcluir');"  styleClass="idExcluir iLink" value="Excluir Boletos" style="width: 150px;" title="Excluir Boletos" disabled="#{controleAcessoBean.botaoExcluir}"/>
                            <a4j:commandLink onclick="modalOpcao('divEstornar');" styleClass="idNovo iLink" value="Estornar Boletos" style="width: 150px; margin-left: 7px " title="Estornar Boletos"/>
                        </h:panelGrid>
                        <hr />
                        <h:panelGrid>
                            <h:column>
                                <a4j:commandLink styleClass="idNovo iLink" action="#{extratoTelaBean.enviarEmail}" value="Enviar Boleto" style="width: 150px; margin-left: 7px" title="Enviar Email" onclick="modalOpcao('divProcesso');" oncomplete="modalMensagem(), fecharModalOpcao('divProcesso', true)" render="outConfirma"/>
                                <h:outputLabel value=" Para " styleClass="fontePadrao" />
                                <h:selectOneMenu value="#{extratoTelaBean.tipoEnvio}">
                                    <a4j:ajax event="change" render="@this" />
                                    <f:selectItem itemValue="empresa"       itemLabel="Empresa"/>
                                    <f:selectItem itemValue="contabilidade" itemLabel="Contabilidade"/>
                                </h:selectOneMenu>

                                <a4j:commandLink styleClass="idExcluir iLink" value="Excluir Acordo" style="width: 140px; margin-left: 10px" title="Excluir Acordo" onclick="modalOpcao('divAcordo');" disabled="#{controleAcessoBean.botaoExcluirAcordo}"/>
                                <h:commandLink styleClass="idNovo iLink" action="#{extratoTelaBean.imprimirPlanilha}" value="Planilha Acordo" style="width: 150px; margin-left: 7px" title="Planilha Acordo" target="_blank"/>
                                <h:commandLink styleClass="idNovo iLink" value="Promissória Acordo" style="width: 200px; margin-left: 7px" title="Promissória Acordo" action="#{extratoTelaBean.imprimirPromissoria}" target="_blank"/>
                            </h:column>
                        </h:panelGrid>
                    </div>
                </center>

                <div id="boxes">
                    <div id="divUltimaImpressao" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid id="tbl_impressao">
                                <rich:dataTable value="#{extratoTelaBean.listaImpressao}" var="linha" iterationStatusVar="it" style="width: 400px">
                                    <rich:column styleClass="coluna">
                                        <f:facet name="header">
                                            <h:outputText value="Impressão"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.impressao}"/>
                                    </rich:column> 
                                    
                                    <rich:column styleClass="coluna">
                                        <f:facet name="header">
                                            <h:outputText value="Vencimento"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.vencimento}"/>
                                    </rich:column> 
                                    
                                    <rich:column styleClass="coluna">
                                        <f:facet name="header">
                                            <h:outputText value="Valor"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.movimento.valorString}"/>
                                    </rich:column> 
                                    
                                    <rich:column styleClass="coluna">
                                        <f:facet name="header">
                                            <h:outputText value="Usuário"/>
                                        </f:facet>
                                        <h:outputText value="#{linha.usuario.pessoa.nome}"/>
                                    </rich:column> 
                                </rich:dataTable>
                            </h:panelGrid>
                            
                            <a4j:commandLink value="Ok" styleClass="idNovo iLink" oncomplete="fecharModal()" />
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>  
                
                <div id="boxes">
                    <div id="divAlterarVencimento" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Confirma alteração do vencimento deste acordo?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                            </h:panelGrid>
                            <br />
                            <h:panelGrid style="float: left; margin-left: 20px" columns="2">
                                <h:outputText id="outAntigo" value="Vencimento Anterior: " styleClass="fontePadrao"/>
                                <h:outputText id="dataAntigo" value="#{extratoTelaBean.dataAntiga}" styleClass="fontePadraoNegrito"/>
                            </h:panelGrid>
                            <br /><br />
                            <h:panelGrid style="float: left; margin-left: 20px" columns="2">
                                <h:outputText id="outNovo" value="Digite o novo Vencimento: " styleClass="fontePadrao"/>
                                <h:inputText id="inputNovo" value="#{extratoTelaBean.dataNova}" size="8" class="data">
                                    <a4j:ajax event="change" render="this" />
                                </h:inputText>
                            </h:panelGrid>
                            <a4j:commandLink value="Ok" styleClass="idNovo iLink" action="#{extratoTelaBean.atualizarData}" oncomplete="fecharModal()" render="inputNovo"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>                

                <div id="boxes">
                    <div id="divExcluir" class="window" style="height: 250px;">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Deseja excluir estes Boletos?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                            </h:panelGrid>
                            <br />
                            <div style="float: left">
                                <h:outputLabel value="Digite o motivo para Exclusão: " style="font-weight: bold"/>
                                <h:inputTextarea value="#{extratoTelaBean.historico}" cols="30" rows="5"> 

                                </h:inputTextarea>
                            </div>
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" action="#{extratoTelaBean.inativarBoleto}" title="Excluir" oncomplete="modalMensagem()" render="outConfirma, tbl, idQntBoletos, idSomarVlRecebido, idSomarVlTotal, idSomarTaxa, idSomarVlLiquido, idSomarVlLiquidoRepasse, idValorExtenso"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>                

                <div id="boxes">
                    <div id="divEstornar" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Deseja estornar esses boletos?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                            </h:panelGrid>
                            <br />
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" title="Estornar" action="#{extratoTelaBean.estornarBaixa}" oncomplete="modalMensagem()" render="outConfirma, tbl, idQntBoletos, idSomarVlRecebido, idSomarVlTotal, idSomarTaxa, idSomarVlLiquido, idSomarVlLiquidoRepasse, idValorExtenso"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>

                <div id="boxes">
                    <div id="divAcordo" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:panelGrid columns="2">
                                <h:outputText value="Deseja excluir esses acordos?" styleClass="fontePadrao"/>
                                <a4j:status><f:facet name="start"><h:graphicImage value="/Imagens/espere.gif" alt="Excluindo"/></f:facet></a4j:status>
                            </h:panelGrid>
                            <br />
                            <a4j:commandLink styleClass="idNovo iLink" value="Sim" title="Estornar" action="#{extratoTelaBean.excluirAcordo}" oncomplete="modalMensagem()" render="outConfirma, tbl, idQntBoletos, idSomarVlRecebido, idSomarVlTotal, idSomarTaxa, idSomarVlLiquido, idSomarVlLiquidoRepasse, idValorExtenso"/>
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="Não" title="Cancelar"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>                

                <div id="boxes">
                    <div id="divProcesso" class="window">
                        <br />
                        <center>
                            <h:outputText value="Aguarde ..." styleClass="fontePadrao" style="color: white"/>
                        </center>
                    </div>
                </div>                

                <div id="boxes">
                    <div id="divMensagem" class="window">
                        <a4j:commandLink styleClass="close closeModal" title="Fechar">
                            <h:graphicImage value="/Imagens/iconExcluir.png" alt="Fechar"/>
                        </a4j:commandLink>
                        <br />
                        <center>
                            <h:outputText id="outConfirma" value="#{extratoTelaBean.msgConfirma}" styleClass="fontePadrao"/>
                            <br /><br />
                            <a4j:commandLink styleClass="idNovo iLink closeModal" value="OK" title="OK" onclick="fecharModal();"/>
                        </center>
                    </div>
                    <div id="mask"></div>
                </div>                 
            </h:form>
        </f:view>
    </h:body>
</ui:composition>